{"version":3,"sources":["TabCreate.js","ModalAddWallet.js","App.js","index.js"],"names":["TabCreate","React","useState","wallets","setWallets","name","setName","showModal","setShowModal","parseFile","useCallback","contents","split","iv","encrypted","secret","window","prompt","length","alert","toString","substring","decipher","crypto","createDecipheriv","Buffer","from","decrpyted","concat","update","final","decrpytedJson","JSON","parse","console","log","E","className","Group","Label","Control","value","onChange","e","target","map","wallet","idx","description","coin","seed","variant","title","disabled","onClick","randomBytes","confirm","cipher","createCipheriv","stringify","a","document","createElement","setAttribute","Date","getTime","click","f","addEventListener","reader","FileReader","onload","result","readAsText","files","show","onHide","callback","wallets2","push","ModalAddWallet","setCoin","setDescription","setSeed","useEffect","onSubmit","preventDefault","stopPropagation","Header","closeButton","Body","autoFocus","required","placeholder","Footer","type","App","Container","Card","Title","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d66a43d2.chunk.js","sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport ModalAddWallet from './ModalAddWallet';\nimport crypto from 'crypto';\n\nexport default function TabCreate(){\n    const [wallets, setWallets] = React.useState([]);\n    const [name, setName] = React.useState(\"\");\n    const [showModal, setShowModal] = React.useState(false);\n    \n    const parseFile = React.useCallback( contents =>{\n        try {\n            const [iv, encrypted] = contents.split(\"\\n\");\n            \n            let secret = window.prompt(\"The Secret to Encrypt the File ! Write it Down, is the Only way to reverse the encryption !!!\");\n            if(!secret || secret.length <=0) {\n                window.alert(\"Secret Invalid !!!\");\n                return;\n            }\n\n            if(secret.length < 32 ) {\n                // Filling the secret to the minimum 32 size.\n                secret = iv.toString('hex').substring(0, 32-secret.length) + secret;\n            }\n\n            const decipher = crypto.createDecipheriv('aes-256-cbc', secret, Buffer.from(iv, 'hex'));\n            const decrpyted = Buffer.concat([decipher.update(Buffer.from(encrypted, 'hex')), decipher.final()]);\n            const decrpytedJson = JSON.parse(Buffer.from(decrpyted, \"hex\").toString());\n            console.log(\"## decrpyted\", decrpytedJson);\n            setName(decrpytedJson.name || \"\");\n            setWallets(decrpytedJson.wallets || []);\n        } catch(E) {\n            window.alert(\"Decrypt Fail:\" + E);\n            console.log(\"Decrypt Fail:\", E);\n        }\n    });\n\n    return <Form>\n        <legend className=\"small\">Create your Wallets Encrypted File</legend>\n    \n        <Form.Group>\n            <Form.Label>Name</Form.Label>\n            <Form.Control value={name} onChange={ e => setName(e.target.value) } />\n        </Form.Group>\n\n        <Table>\n            <thead>\n                <tr>\n                    <th>Description</th>\n                    <th>Coin / Network</th>\n                    <th>Seed</th>\n                    <th>#</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                { (wallets || []).map( (wallet, idx) => {\n                    return <tr key={idx}>\n                        <td>{wallet.description}</td>\n                        <td>{wallet.coin}</td>\n                        <td>{wallet.seed}</td>\n                        <td>\n                            <Button variant=\"danger\" title=\"Delete\">X</Button>\n                        </td>\n                    </tr>\n                }) }\n            </tbody>\n        </Table>\n\n        <Form.Group>\n            <Form.Label>Actions</Form.Label>\n            <div className=\"\">\n                <Button className=\"me-2\" variant=\"secondary\" \n                    disabled={wallets.length <= 0} onClick={()=>{\n                        try {\n                            let secret = window.prompt(\"The Secret to Encrypt the File ! Write it Down, is the Only way to reverse the encryption !!!\");\n                            if(!secret || secret.length <=0) {\n                                window.alert(\"Secret Invalid !!!\");\n                                return;\n                            }\n\n                            // https://www.section.io/engineering-education/data-encryption-and-decryption-in-node-js-using-crypto/\n                            // https://attacomsian.com/blog/nodejs-encrypt-decrypt-data\n                            const iv = crypto.randomBytes(16);\n\n                            if(secret.length < 32 ) {\n                                if(!window.confirm(`\"Your secret is too short [${secret.length}] ! Recomended Length is 32+. Would like to continue ?\"`)) return;\n                                // Filling the secret to the minimum 32 size.\n                                secret = iv.toString('hex').substring(0, 32-secret.length) + secret;\n                            }\n\n                            const cipher = crypto.createCipheriv('aes-256-cbc', secret, iv);\n                            const encrypted = Buffer.concat([cipher.update(JSON.stringify({ name, wallets })), cipher.final()]);\n\n                            // https://stackoverflow.com/questions/28464449/how-to-save-json-data-locally-on-the-machine\n                            var a = document.createElement('a');\n                            a.setAttribute('href', 'data:text/plain;charset=utf-8,'+ iv.toString('hex') + \"\\n\" + encrypted.toString('hex'));\n                            a.setAttribute('download', \"lhwallet\"+ (new Date()).getTime() + \".txt\");\n                            a.click()\n                        } catch(E) {\n                            window.alert(\"Encrypt Fail:\" + E);\n                            console.log(\"Encrypt Fail:\", E);\n                        }\n                    }}>Generate File</Button>\n\n                <Button variant=\"danger\" className=\"me-2\" \n                    disabled={wallets.length <= 0} onClick={()=>{\n                    if(!window.confirm(\"!!! DANGER !!! You will download the Wallets in Plain Text. Your Money Can be stolen if you lose this file. Do at your own risk !\"));\n\n                    var a = document.createElement('a');\n                    a.setAttribute('href', 'data:text/plain;charset=utf-8,'+ JSON.stringify({ name, wallets}, null, 4));\n                    a.setAttribute('download', \"lhwallet\"+ (new Date()).getTime() + \".json\");\n                    a.click()\n                }}>Download as JSON</Button>\n\n                <Button className=\"me-2\" variant=\"warning\" onClick={()=>{\n                    if(wallets.length > 0) {\n                        if(!window.confirm(\"Restoring a wallet will replace the data in the form. Would you like to continue ?\")) return;\n                    }\n\n                    var f = document.createElement('input');\n                    f.setAttribute('type', 'file');\n                    f.addEventListener('change', e => {\n                        var reader = new FileReader();\n                        reader.onload = function(){\n                            parseFile(Buffer.from(reader.result).toString());\n                        };\n                        reader.readAsText(e.target.files[0]);\n                    });\n\n                    f.click();\n                }}>Restore from File</Button>\n\n                <Button className=\"float-end\" variant=\"primary\" onClick={()=>{\n                    setShowModal(true);\n                }}>Add Wallet</Button>\n            </div>\n        </Form.Group>\n\n        { showModal ? <ModalAddWallet show={showModal} onHide={setShowModal} callback={ wallet =>{\n            const wallets2 = [...wallets];\n            wallets2.push(wallet);\n            setWallets(wallets2);\n            setShowModal(false);\n        }} /> : false }\n    </Form>\n}","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\n\nexport default function ModalAddWallet({ show, onHide, callback, wallet=null }) {\n    const [coin, setCoin] = React.useState(\"\");\n    const [description, setDescription] = React.useState(\"\");\n    const [seed, setSeed] = React.useState(\"\");\n\n    React.useEffect(()=>{\n        if(wallet) {\n            setCoin(wallet.coin);\n            setDescription(wallet.description);\n            setSeed(wallet.seed);\n        }\n    }, [wallet])\n\n    return <Modal show={show} onHide={onHide}>\n        <Form onSubmit={ e =>{\n            e.preventDefault();\n            e.stopPropagation();\n\n            callback({ coin, description, seed });\n\n            return false;\n        }}>\n        <Modal.Header closeButton>Add Wallet</Modal.Header>\n\n        <Modal.Body>            \n            <Form.Group>\n                <Form.Label>Description</Form.Label>\n                <Form.Control value={description} autoFocus required\n                    placeholder=\"A Friendly name for your wallet\"\n                    onChange={ e => setDescription(e.target.value)} />\n            </Form.Group>\n            \n            <Form.Group>\n                <Form.Label>Coin / Network</Form.Label>\n                <Form.Control value={coin} placeholder=\"BTC | ADA | ETH | ETC\" required\n                    onChange={ e => setCoin(e.target.value) } />\n            </Form.Group>\n\n            <Form.Group>\n                <Form.Label>Seed Phrase</Form.Label>\n                <Form.Control value={seed} required\n                        onChange={ e => setSeed(e.target.value) } />\n            </Form.Group>\n        </Modal.Body>\n\n        <Modal.Footer>\n            <Button type=\"submit\">Add</Button>\n        </Modal.Footer>\n        </Form>\n    </Modal>\n}","import 'bootstrap/dist/css/bootstrap.min.css';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\n\nimport TabCreate from './TabCreate';\n\nfunction App() {\n  return (\n    <Container>\n      <Card className=\"mt-5\">\n        <Card.Header>\n          <Card.Title><h2>LH WALLETs</h2></Card.Title>\n        </Card.Header>\n        \n        <Card.Body>\n          <TabCreate />\n        </Card.Body>\n\n        <Card.Footer>\n          <span className=\"small float-start\">Leandro Costa &copy; 2021</span>\n          <span className=\"small float-end\">Leandro Costa &copy; 2021</span>\n        </Card.Footer>\n      </Card>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}